# API Adjust Environment Configuration
# Copy this file to .env and update the values according to your environment

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Local workspace inside the API container for downloaded inputs and generated outputs.
# Nginx should mount the same location read-only to expose processed files.
STORAGE_ROOT=/app/public

# Host directory that Docker mounts into STORAGE_ROOT (only used during deployment scripts)
DATA_DIR=/app/public

# =============================================================================
# OUTPUT CONFIGURATION
# =============================================================================
# Override the directory (relative to STORAGE_ROOT) where processed files are stored.
# Leave empty to reuse input structure with "origin" swapped for "process".
# OUTPUT_BASE_REL_PATH=uploads/process

# Segment name to replace "origin" when OUTPUT_BASE_REL_PATH is empty.
OUTPUT_TARGET_SEGMENT=process

# Optional prefix inserted in front of the resolved output path (relative to STORAGE_ROOT).
# OUTPUT_PATH_PREFIX=upload.process

# Optional: override the default "uploads" prefix stripped from incoming paths.
# INPUT_PATH_PREFIX=uploads

# =============================================================================
# NGINX CONFIGURATION
# =============================================================================
# Base URL for accessing input files through nginx
# This should be the public URL where your nginx serves files
NGINX_INPUT_BASE_URL=http://192.168.210.100:8083/files

# Nginx port for serving files
NGINX_PORT=8083

# =============================================================================
# API CONFIGURATION
# =============================================================================
# API server port (internal to container)
API_PORT=8001

# API server host
API_HOST=0.0.0.0

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# Docker image name and tag
API_ADJUST_IMAGE=api-adjust:latest

# Docker compose project name
COMPOSE_PROJECT=api-adjust

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, text)
LOG_FORMAT=json

# =============================================================================
# SECURITY CONFIGURATION (Optional)
# =============================================================================
# Secret key for JWT tokens (if implementing authentication)
# SECRET_KEY=your-secret-key-here

# CORS allowed origins (comma-separated)
# ALLOWED_ORIGINS=http://localhost:3000,https://your-frontend.com

# =============================================================================
# PERFORMANCE CONFIGURATION (Optional)
# =============================================================================
# Maximum file size for uploads (in bytes)
# MAX_FILE_SIZE=104857600  # 100MB

# Request timeout (in seconds)
# REQUEST_TIMEOUT=300

# =============================================================================
# MONITORING CONFIGURATION (Optional)
# =============================================================================
# Enable metrics collection
# METRICS_ENABLED=true

# Health check interval (in seconds)
# HEALTH_CHECK_INTERVAL=30

# =============================================================================
# DEVELOPMENT CONFIGURATION (Optional)
# =============================================================================
# Environment mode (development, staging, production)
ENVIRONMENT=production

# Debug mode (true/false)
DEBUG=false

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================
# Database URL (if using database)
# DATABASE_URL=postgresql://user:password@localhost:5432/api_adjust

# Redis URL (if using Redis for caching)
# REDIS_URL=redis://localhost:6379/0

# External API endpoints
# EXTERNAL_API_URL=https://api.example.com
# EXTERNAL_API_KEY=your-api-key-here
